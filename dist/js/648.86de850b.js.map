{"version":3,"file":"js/648.86de850b.js","mappings":"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","sources":["webpack://whispers/./src/components/Navbar/Navbar.vue","webpack://whispers/./src/components/SocialMedia/NavSocial.vue","webpack://whispers/./src/components/SocialMedia/NavSocial.vue?4878","webpack://whispers/./src/components/Navbar/Navbar.vue?e152","webpack://whispers/./src/views/MessagesPage.vue","webpack://whispers/./src/components/Buttons/SendButton.vue","webpack://whispers/./src/components/Buttons/SendButton.vue?7b43","webpack://whispers/./src/views/MessagesPage.vue?13a7"],"sourcesContent":["<template>\r\n  <div class=\"v-navbar w-100\">\r\n      <div class=\"navbar-logo\">\r\n          <router-link to=\"/home\">\r\n            <img src=\"@/assets/logo.svg\" alt=\"Whispers Logo\">\r\n          </router-link>\r\n\r\n          <div class=\"hamburger-menu\" @click=\"openNav\" :class=\"{open: isOpen}\">\r\n            <span class=\"bar\"></span>\r\n            <span class=\"bar\"></span>\r\n            <span class=\"bar\"></span>\r\n          </div>\r\n      </div>\r\n\r\n      <div class=\"nav-items\" :class=\"{open: isOpen}\" v-if=\"isUser\">\r\n        <router-link to=\"/home\" class=\"nav-link\">\r\n          <div class=\"nav-item\">\r\n            <i class='bx-fw bx bxs-home'></i>\r\n            <span class=\"text-link\">Home</span>\r\n          </div>\r\n        </router-link>\r\n\r\n        <router-link :to=\"'/msg/'+msgId\" class=\"nav-link\">\r\n          <div class=\"nav-item\">\r\n            <i class='bx-fw bx bxs-chat'></i>\r\n            <span class=\"text-link\">Messages</span>\r\n          </div>\r\n        </router-link>\r\n\r\n        <div class=\"nav-link\">\r\n          <button class=\"btn-logout\" @click=\"Logout\">\r\n            <i class='bx-fw bx bx-log-out'></i> <span class=\"logout-text\">Log out</span>\r\n          </button>\r\n        </div>\r\n\r\n        <NavSocial/>\r\n      </div>\r\n\r\n      <button class=\"sbtn btn-create\" v-if=\"!isUser\" @click=\"$router.push('/register')\">\r\n        Create Whispers\r\n      </button>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { auth, db } from '@/firebase';\r\nimport { ref } from '@vue/reactivity';\r\nimport { useStore } from 'vuex'\r\nimport NavSocial from '../SocialMedia/NavSocial.vue';\r\nimport { Toast } from '../Toast';\r\nimport { doc, getDoc } from 'firebase/firestore';\r\nimport { onMounted } from 'vue';\r\nexport default {\r\n  components: { NavSocial },\r\n    name: 'NavbarComp ',\r\n    props: {\r\n      isUser: {\r\n        type: Boolean,\r\n        default: false\r\n      }\r\n    },\r\n    setup () {\r\n      const isOpen = ref(false)\r\n      const store = useStore();\r\n      const msgId = ref('')\r\n\r\n      const whispersId = localStorage.getItem('whispers_id')\r\n      \r\n      const getWhisperId = async () => {\r\n        await getDoc(doc(db, 'users', whispersId))\r\n          .then(docs => {\r\n            msgId.value = docs.data().whisp_id\r\n          })\r\n      }\r\n\r\n      onMounted(async () => {\r\n        await getWhisperId()\r\n      })\r\n\r\n      const openNav = () => {\r\n        !isOpen.value ? isOpen.value = true : isOpen.value = false;\r\n      }\r\n      const Logout = async () => {\r\n        await store.dispatch('logout')\r\n          .then(() => {\r\n            Toast.fire({\r\n              icon: 'success',\r\n              text: 'Log out successfull'\r\n            })\r\n          })\r\n      }\r\n      return {\r\n        Logout,\r\n        openNav,\r\n        isOpen, msgId\r\n      }\r\n    }\r\n}\r\n</script>\r\n\r\n<style>\r\n.v-navbar {\r\n  position: fixed;\r\n  top: 0;\r\n  left: 0;\r\n  display: flex;\r\n  justify-content: space-between;\r\n  padding: 1rem 2rem;\r\n  background: #FFFFFF;\r\n  box-shadow:  5px 5px 21px #949494,\r\n              -5px -5px 21px #ffffff;\r\n  z-index: 100;\r\n}\r\n\r\n.navbar-logo {\r\n  display: flex;\r\n  align-items: center;\r\n}\r\n\r\n.nav-items {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 5rem;\r\n}\r\n\r\n\r\n@media screen and (max-width: 864px) {\r\n  .v-navbar {\r\n    display: block;\r\n  }\r\n\r\n  .navbar-logo {\r\n    justify-content: space-between;\r\n  }\r\n\r\n  .nav-items {\r\n    position: fixed;\r\n    top: 0;\r\n    left: -100%;\r\n    opacity: 0;\r\n    visibility: hidden;\r\n    background: var(--nav-glassbg);\r\n    box-shadow: var(--nav-glassboxshadow);\r\n    backdrop-filter: blur( 50px );\r\n    -webkit-backdrop-filter: blur( 10px );\r\n    border: var(--nav-glassborder);\r\n    flex-direction: column;\r\n    align-items: flex-start;\r\n    width: 80%;\r\n    height: 100vh;\r\n    padding: 4rem 0;\r\n    gap: 3rem;\r\n    transition: all 0.3s ease-in-out;\r\n    z-index: 1000;\r\n  }\r\n\r\n  .nav-items.open {\r\n    left: 0;\r\n    opacity: 1;\r\n    visibility: visible;\r\n  }\r\n\r\n  .hamburger-menu {\r\n    width: 28px;\r\n    height: 25px;\r\n    margin-right: -0.5rem;\r\n    margin-bottom: -0.3rem;\r\n    cursor: pointer;\r\n  }\r\n  .bar {\r\n    display: block;\r\n    width: 100%;\r\n    height: 13%;\r\n    background: var(--text-color);\r\n    margin-bottom: 0.3rem;\r\n    transition: all 0.3s ease-in-out;\r\n  }\r\n\r\n  .hamburger-menu.open .bar:nth-child(1) {\r\n    width: 30%;\r\n  }\r\n\r\n  .hamburger-menu.open .bar:nth-child(2) {\r\n    width: 70%;\r\n  }\r\n}\r\n\r\n.nav-item i {\r\n  margin-right: 0.3rem;\r\n}\r\n\r\n.nav-items .nav-link .text-link {\r\n  position: relative;\r\n}\r\n.nav-items .nav-link.router-link-exact-active .text-link::after {\r\n  opacity: 1;\r\n  height: 2px;\r\n}\r\n\r\n.nav-items .nav-item:hover .text-link::after {\r\n  opacity: 1;\r\n  height: 2px;\r\n}\r\n\r\n.text-link::after {\r\n  content: '';\r\n  position: absolute;\r\n  bottom: -3px;\r\n  left: 0;\r\n  width: 100%;\r\n  height: 0;\r\n  margin: auto;\r\n  background: var(--text-color);\r\n  border-radius: 20%;\r\n  opacity: 0;\r\n  transition: all 0.3s ease-in-out;\r\n}\r\n\r\n\r\n\r\n.btn-logout {\r\n  border: none;\r\n  outline: none;\r\n  background: transparent;\r\n}\r\n\r\n.bx-log-out, .logout-text {\r\n  transition: 0.35s ease;\r\n}\r\n\r\n.btn-logout .bx-log-out {\r\n  color: #fa8b8b;\r\n}\r\n\r\n.btn-logout .logout-text {\r\n  color: #fa8b8b;\r\n  font-weight: 600;\r\n}\r\n\r\n.btn-logout:hover .bx-log-out {\r\n  color: #ff0000;\r\n} \r\n\r\n.btn-logout:hover .logout-text {\r\n  color: #ff0000;\r\n}\r\n\r\n.btn-create {\r\n  padding: 0.5rem 1rem;\r\n}\r\n</style>","<template>\r\n  <div class=\"nav-social nav-link d-lg-none\">\r\n      <a href=\"\" class=\"-nav-sm instagram\">\r\n          <img src=\"@/assets/icons/instagram.svg\" alt=\"Instagram\">\r\n      </a>\r\n      <a href=\"\" class=\"-nav-sm github\">\r\n          <img src=\"@/assets/icons/github.svg\" alt=\"GitHub\">\r\n      </a>\r\n      <a href=\"\" class=\"-nav-sm twitter\">\r\n          <img src=\"@/assets/icons/twitter.svg\" alt=\"Twitter\">\r\n      </a>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n    name: 'NavSocial'\r\n}\r\n</script>\r\n\r\n<style>\r\n.nav-social {\r\n    display: flex;\r\n    gap: 1.5rem;\r\n    position: absolute;\r\n    bottom: 5%;\r\n}\r\n\r\n.-nav-sm img {\r\n    width: 30px;\r\n}\r\n</style>","import { render } from \"./NavSocial.vue?vue&type=template&id=85da0a52\"\nimport script from \"./NavSocial.vue?vue&type=script&lang=js\"\nexport * from \"./NavSocial.vue?vue&type=script&lang=js\"\n\nimport \"./NavSocial.vue?vue&type=style&index=0&id=85da0a52&lang=css\"\n\nimport exportComponent from \"C:\\\\Users\\\\nurdi\\\\project-vue\\\\whispers\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./Navbar.vue?vue&type=template&id=0c371b6a\"\nimport script from \"./Navbar.vue?vue&type=script&lang=js\"\nexport * from \"./Navbar.vue?vue&type=script&lang=js\"\n\nimport \"./Navbar.vue?vue&type=style&index=0&id=0c371b6a&lang=css\"\n\nimport exportComponent from \"C:\\\\Users\\\\nurdi\\\\project-vue\\\\whispers\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\r\n  <div class=\"messages-page ccontainer\">\r\n    <Navbar :isUser=\"isLoggedIn ? true : false\"/>\r\n\r\n    <div class=\"messages-wrapper p-4 mx-auto\">\r\n      <div class=\"form-wrapper mb-4\">\r\n        <h2>Send a message to <span class=\"name\">{{ whispersOwner }}</span></h2>\r\n        <p>{{ whispersOwner }} will never know who sent this message</p>\r\n\r\n        <form id=\"form-msg\" @submit.prevent=\"sendMessage\">\r\n          <textarea name=\"message\" class=\"message-area\" placeholder=\"Write secret message\" v-model=\"message\" maxlength=\"155\"></textarea>\r\n          <SendButton/>\r\n        </form>\r\n      </div>\r\n\r\n      <div class=\"messages-list\">\r\n        <div class=\"message-title\">\r\n          <h4>Timeline of <span class=\"name\">{{ whispersOwner }}</span></h4>\r\n\r\n          <div class=\"message mb-3\" v-for=\"message in messages\" :key=\"message.id\">\r\n            <div class=\"message-content\">\r\n              <div class=\"message-text\">\r\n                <p>{{message.message}}</p>\r\n              </div>\r\n              <form id=\"comment-form\" @submit.prevent=\"submitComment(message.id)\">\r\n                <input type=\"text\" v-model=\"comment\" name=\"comment\" placeholder=\"Write a comment\" class=\"form-control inp-comment\">\r\n                <button class=\"btn-comment sbtn\" type=\"submit\">Submit</button>\r\n              </form>\r\n              <div class=\"check mt-3\" @click=\"checkReplies(message.id)\">\r\n                <i class='bx-fw bx bxs-chevron-right' :class=\"{checked: checked}\"></i> <span v-if=\"!checked\">Check Replies</span> <span v-else>Hide Replies</span>\r\n              </div>\r\n              <div class=\"replies mt-3\" v-if=\"checked\">\r\n                <div class=\"reply-text mb-2\" v-for=\"(reply, i) in replies\" :key=\"i\">\r\n                  <span>{{reply.comment}}</span>\r\n                  <div v-if=\"isLoggedIn\" class=\"delete delete-reply\" @click=\"deleteComment(message.id, reply.id)\">\r\n                    <i class='bx bxs-trash' ></i>\r\n                  </div>\r\n                </div>\r\n                <div class=\"no-reply\" v-if=\"!replies.length\">\r\n                  <span>No reply</span>\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <div v-if=\"isLoggedIn\" class=\"delete\" @click=\"deleteMessage(message.id)\">\r\n              <i class='bx bxs-trash' ></i>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { onMounted, ref } from \"vue\";\r\nimport { auth, db } from '@/firebase';\r\nimport { getDoc, doc, addDoc, collection, onSnapshot, query, orderBy, serverTimestamp, deleteDoc } from \"firebase/firestore\";\r\nimport Navbar from '@/components/Navbar/Navbar.vue';\r\nimport { useRoute } from 'vue-router';\r\nimport SendButton from '@/components/Buttons/SendButton.vue';\r\nimport Swal from 'sweetalert2';\r\nexport default {\r\n  components: { Navbar, SendButton },\r\n    name: 'MessagePage',\r\n    setup () {\r\n      const isLoggedIn = ref(false)\r\n      const whispersOwner = ref('')\r\n      const whispCode = useRoute().params.id\r\n      const message = ref('')\r\n      const comment = ref('')\r\n      const checked = ref(false)\r\n\r\n      const messages = ref([])\r\n      const replies = ref([])\r\n\r\n      const getMessages = async () => {\r\n        const msgRef = collection(db, 'users', whispCode, 'messages')\r\n        const q = query(msgRef, orderBy('createdAt', 'asc'))\r\n        onSnapshot(q, (snapshot) => {\r\n          messages.value = []\r\n          snapshot.docs.forEach(doc => {\r\n            messages.value.push({\r\n              id: doc.id,\r\n              ...doc.data()\r\n            })\r\n          })\r\n        })\r\n      }\r\n\r\n      const checkReplies = async (id) => {\r\n        if(!checked.value) {\r\n          checked.value = true\r\n          const replyRef = collection(db, 'users', whispCode, 'messages', id, 'replies')\r\n          const q = query(replyRef, orderBy('createdAt', 'asc'))\r\n          onSnapshot(q, (snapshot) => {\r\n            replies.value = []\r\n            snapshot.docs.forEach(doc => {\r\n              replies.value.push({\r\n                id: doc.id,\r\n                ...doc.data()\r\n              })\r\n            })\r\n          })\r\n        } else {\r\n          checked.value = false\r\n        }\r\n      }\r\n\r\n      const getWhispName = async () => {\r\n        await getDoc(doc(db, 'users', whispCode))\r\n          .then(docs => {\r\n            whispersOwner.value = docs.data().whisp_name\r\n          })\r\n      }\r\n\r\n      function getDate(date) {\r\n        function padTo2Digits(num) {\r\n          return num.toString().padStart(2, '0')\r\n        }\r\n\r\n        const ddmmyyy = padTo2Digits(date.getDate()) + '-' + padTo2Digits(date.getMonth()+1) + '-' + date.getFullYear()\r\n        const now = ddmmyyy \r\n        return now\r\n      }\r\n\r\n      const sendMessage = async () => {\r\n        if(!message.value) {\r\n          Swal.fire({\r\n            title: 'Oops...',\r\n            text: 'You need to write a message',\r\n            icon: 'error',\r\n            confirmButtonText: 'OK'\r\n          })\r\n        } else {\r\n          try {\r\n            await addDoc(collection(db, 'users', whispCode, 'messages'), {\r\n              message: message.value,\r\n              createdAt: serverTimestamp(),\r\n              date: getDate(new Date())\r\n            }).then(() => {\r\n              Swal.fire({\r\n                title: 'Message sent!',\r\n                text: 'Your message has been sent',\r\n                icon: 'success',\r\n                confirmButtonText: 'OK'\r\n              })\r\n              message.value = ''\r\n            })\r\n          } catch (error) {\r\n              Swal.fire({\r\n                title: 'Oops...',\r\n                text: 'Something went wrong!',\r\n                icon: 'error',\r\n                confirmButtonText: 'OK'\r\n              })\r\n          }\r\n        }\r\n      }\r\n\r\n      const deleteMessage = (id) => {\r\n        Swal.fire({\r\n          title: 'Are you sure?',\r\n          text: \"You won't be able to revert this!\",\r\n          icon: 'warning',\r\n          showCancelButton: true,\r\n          confirmButtonColor: '#3085d6',\r\n          cancelButtonColor: '#d33',\r\n          confirmButtonText: 'Yes, delete it!'\r\n        }).then(async (result) => {\r\n          if(result.isConfirmed) {\r\n            try {\r\n              const docRef = doc(db, 'users', whispCode, 'messages', id)\r\n              await deleteDoc(docRef)\r\n                .then(() => {\r\n                  Swal.fire({\r\n                    title: 'Deleted!',\r\n                    text: 'Message has been deleted',\r\n                    icon: 'success',\r\n                    confirmButtonText: 'OK'\r\n                  })\r\n                }).finally(() => {\r\n                  getMessages()\r\n                })\r\n            } catch (error) {\r\n              Swal.fire({\r\n                title: 'Oops...',\r\n                text: 'Something went wrong!',\r\n                icon: 'error',\r\n                confirmButtonText: 'OK'\r\n              })\r\n            }\r\n          }\r\n        })\r\n      }\r\n\r\n      const deleteComment = (msgId, cmtId) => {\r\n        Swal.fire({\r\n          title: 'Are you sure?',\r\n          text: \"You won't be able to revert this!\",\r\n          icon: 'warning',\r\n          showCancelButton: true,\r\n          confirmButtonColor: '#3085d6',\r\n          cancelButtonColor: '#d33',\r\n          confirmButtonText: 'Yes, delete it!'\r\n        }).then(async (result) => {\r\n          if(result.isConfirmed) {\r\n            try {\r\n              const docRef = doc(db, 'users', whispCode, 'messages', msgId, 'replies', cmtId)\r\n              await deleteDoc(docRef)\r\n                .then(() => {\r\n                  Swal.fire({\r\n                    title: 'Deleted!',\r\n                    text: 'Comment has been deleted',\r\n                    icon: 'success',\r\n                    confirmButtonText: 'OK'\r\n                  })\r\n                }).finally(() => {\r\n                  checkReplies(msgId)\r\n                })\r\n            } catch (error) {\r\n              Swal.fire({\r\n                title: 'Oops...',\r\n                text: 'Something went wrong!',\r\n                icon: 'error',\r\n                confirmButtonText: 'OK'\r\n              })\r\n            }\r\n          }\r\n        })\r\n      }\r\n\r\n      const submitComment = async (id) => {\r\n        if(!comment.value) {\r\n          Swal.fire({\r\n            title: 'Oops...',\r\n            text: 'You need to write a message',\r\n            icon: 'error',\r\n            confirmButtonText: 'OK'\r\n          })\r\n        } else {\r\n          try {\r\n            await addDoc(collection(db, 'users', whispCode, 'messages', id, 'replies'), {\r\n              comment: comment.value,\r\n              createdAt: serverTimestamp(),\r\n            }).then(() => {\r\n              Swal.fire({\r\n                title: 'Comment sent!',\r\n                text: 'Your comment has been sent',\r\n                icon: 'success',\r\n                confirmButtonText: 'OK'\r\n              })\r\n              comment.value = ''\r\n            })\r\n          } catch (error) {\r\n              Swal.fire({\r\n                title: 'Oops...',\r\n                text: 'Something went wrong!',\r\n                icon: 'error',\r\n                confirmButtonText: 'OK'\r\n              })\r\n          }\r\n        }\r\n      }\r\n\r\n      const logStatus = () => {\r\n        auth.onAuthStateChanged(user => {\r\n          if (user) {\r\n            isLoggedIn.value = true\r\n          } else {\r\n            isLoggedIn.value = false\r\n          }\r\n        })\r\n      }\r\n\r\n      onMounted(() => {\r\n        getWhispName()\r\n        getMessages()\r\n        logStatus()\r\n      })\r\n\r\n      return {\r\n        isLoggedIn, whispersOwner, checked,\r\n        message, sendMessage, messages, replies, \r\n        comment, submitComment, checkReplies,\r\n        deleteMessage, deleteComment\r\n      }\r\n    }\r\n}\r\n</script>\r\n\r\n<style>\r\n.messages-page {\r\n  height: 100%;\r\n  min-height: 100vh;\r\n  background: var(--bg-color);\r\n  padding-top: 7rem;\r\n}\r\n.messages-wrapper {\r\n  width: 70%;\r\n  height: 100%;\r\n  min-height: 100vh;\r\n  background: #FFF;\r\n  box-shadow: rgba(50, 50, 93, 0.25) 0px 13px 27px -5px, rgba(0, 0, 0, 0.3) 0px 8px 16px -8px;\r\n}\r\n.name {\r\n  font-weight: 700;\r\n}\r\n.check {\r\n  cursor: pointer;\r\n}\r\n.bxs-chevron-right {\r\n  transition: transform 0.3s ease;\r\n  font-size: 1.2rem;\r\n}\r\n.checked {\r\n  transform: rotate(90deg);\r\n}\r\n.message-area {\r\n  resize: none;\r\n  width: 100%;\r\n  height: 150px;\r\n  border-radius: 5px;\r\n  border: 1px solid var(--primary-color);\r\n  padding: 0.5rem 1rem;\r\n}\r\n\r\n.message-area:focus {\r\n  border: 2px solid var(--primary-color);\r\n}\r\n.message {\r\n  border: 1px solid #888;\r\n  padding: 0.5rem 1rem;\r\n  border-radius: 5px;\r\n  width: 100%;\r\n  height: fit-content;\r\n  position: relative;\r\n  overflow-x: hidden ;\r\n}\r\n.message-text {\r\n  width: 100%;\r\n  height: 100%;\r\n}\r\n.delete {\r\n  position: absolute;\r\n  right: 0.5%;\r\n  top: 5%;\r\n  cursor: pointer;\r\n}\r\n\r\n.delete-reply {\r\n  top: 55%;\r\n  transform: translateY(-50%);\r\n}\r\n\r\n.delete i {\r\n  font-size: 1.2rem;\r\n  color: var(--primary-color);\r\n}\r\n\r\n.delete i:hover {\r\n  color: #e74040;\r\n}\r\n\r\n#comment-form {\r\n  width: 100%;\r\n  height: 40px;\r\n  position: relative;\r\n}\r\n\r\n.inp-comment {\r\n  width: 100%;\r\n  height: 100%;\r\n  border-radius: 5px;\r\n  border: 1px solid var(--primary-color);\r\n  padding: 0.5rem 1rem;\r\n}\r\n.btn-comment {\r\n  position: absolute;\r\n  right: 1%;\r\n  top: 50%;\r\n  transform: translateY(-50%);\r\n}\r\n.reply-text {\r\n  width: 100%;\r\n  position: relative;\r\n  background: #92929248;\r\n  padding: 0.3rem 0.7rem;\r\n}\r\n.reply-text span {\r\n  color: #636363;\r\n}\r\n@media screen and (max-width: 868px) {\r\n  .messages-page {\r\n    padding-top: 5rem;\r\n  }\r\n  .messages-wrapper {\r\n    width: 90%;\r\n  }\r\n}\r\n</style>","<template>\r\n  <button class=\"btn-send w-100 mt-3\" type=\"submit\">\r\n      <i class='bx-fw bx bxs-send'></i> Send Message\r\n  </button>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n    name: 'SendButton',\r\n}\r\n</script>\r\n\r\n<style>\r\n.btn-send {\r\n    border: none;\r\n    outline: none;\r\n    background: var(--primary-color);\r\n    color: #FFF;\r\n    padding: 0.5rem;\r\n    border-radius: 10px;\r\n    transition: 0.3s ease-in-out;\r\n}\r\n\r\n.btn-send:hover {\r\n    background: var(--darker-primary-color);\r\n}\r\n\r\n.btn-send i {\r\n    color: #FFF;\r\n}\r\n</style>","import { render } from \"./SendButton.vue?vue&type=template&id=d848884a\"\nimport script from \"./SendButton.vue?vue&type=script&lang=js\"\nexport * from \"./SendButton.vue?vue&type=script&lang=js\"\n\nimport \"./SendButton.vue?vue&type=style&index=0&id=d848884a&lang=css\"\n\nimport exportComponent from \"C:\\\\Users\\\\nurdi\\\\project-vue\\\\whispers\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./MessagesPage.vue?vue&type=template&id=0874ecf6\"\nimport script from \"./MessagesPage.vue?vue&type=script&lang=js\"\nexport * from \"./MessagesPage.vue?vue&type=script&lang=js\"\n\nimport \"./MessagesPage.vue?vue&type=style&index=0&id=0874ecf6&lang=css\"\n\nimport exportComponent from \"C:\\\\Users\\\\nurdi\\\\project-vue\\\\whispers\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["class","_createElementVNode","src","_imports_0","alt","_hoisted_4","_hoisted_5","_hoisted_6","_hoisted_11","_hoisted_13","_createElementBlock","_createVNode","_component_router_link","to","_hoisted_3","open","$setup","onClick","$props","_hoisted_8","_hoisted_9","_component_NavSocial","_ctx","push","_hoisted_2","name","__exports__","components","NavSocial","props","isUser","type","Boolean","default","setup","isOpen","ref","store","useStore","msgId","whispersId","localStorage","getItem","getWhisperId","async","getDoc","doc","db","then","docs","value","data","whisp_id","onMounted","openNav","Logout","dispatch","Toast","icon","text","render","_hoisted_20","_hoisted_23","_hoisted_26","_component_Navbar","_toDisplayString","id","onSubmit","placeholder","$event","maxlength","_component_SendButton","_Fragment","_renderList","message","key","checked","_hoisted_17","_hoisted_16","reply","i","comment","length","_hoisted_24","Navbar","SendButton","isLoggedIn","whispersOwner","whispCode","useRoute","params","messages","replies","getMessages","msgRef","collection","q","query","orderBy","onSnapshot","snapshot","forEach","checkReplies","replyRef","getWhispName","whisp_name","getDate","date","padTo2Digits","num","toString","padStart","ddmmyyy","getMonth","getFullYear","now","sendMessage","addDoc","createdAt","serverTimestamp","Date","Swal","title","confirmButtonText","error","deleteMessage","showCancelButton","confirmButtonColor","cancelButtonColor","result","isConfirmed","docRef","deleteDoc","finally","deleteComment","cmtId","submitComment","logStatus","auth","user"],"sourceRoot":""}