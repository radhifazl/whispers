{"version":3,"file":"js/8.31af8771.js","mappings":"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","sources":["webpack://whispers/./src/components/Navbar/Navbar.vue","webpack://whispers/./src/components/SocialMedia/NavSocial.vue","webpack://whispers/./src/components/SocialMedia/NavSocial.vue?4878","webpack://whispers/./src/components/Navbar/Navbar.vue?e152","webpack://whispers/./src/views/MessagesPage.vue","webpack://whispers/./src/components/Buttons/SendButton.vue","webpack://whispers/./src/components/Buttons/SendButton.vue?7b43","webpack://whispers/./src/views/MessagesPage.vue?13a7"],"sourcesContent":["<template>\r\n  <div class=\"v-navbar w-100\" :class=\"{user: isUser}\">\r\n      <div class=\"navbar-logo\">\r\n          <router-link to=\"/home\">\r\n            <img src=\"@/assets/logo.svg\" alt=\"Whispers Logo\">\r\n          </router-link>\r\n\r\n          <div class=\"hamburger-menu\" @click=\"openNav\" :class=\"{open: isOpen}\" v-if=\"isUser\">\r\n            <span class=\"bar\"></span>\r\n            <span class=\"bar\"></span>\r\n            <span class=\"bar\"></span>\r\n          </div>\r\n      </div>\r\n\r\n      <div class=\"nav-items\" :class=\"{open: isOpen}\" v-if=\"isUser\">\r\n        <router-link to=\"/home\" class=\"nav-link\">\r\n          <div class=\"nav-item\">\r\n            <i class='bx-fw bx bxs-home'></i>\r\n            <span class=\"text-link\">Home</span>\r\n          </div>\r\n        </router-link>\r\n\r\n        <router-link :to=\"'/'+msgId\" class=\"nav-link\">\r\n          <div class=\"nav-item\">\r\n            <i class='bx-fw bx bxs-chat'></i>\r\n            <span class=\"text-link\">Messages</span>\r\n          </div>\r\n        </router-link>\r\n\r\n        <div class=\"nav-link\">\r\n          <button class=\"btn-logout\" @click=\"Logout\">\r\n            <i class='bx-fw bx bx-log-out'></i> <span class=\"logout-text\">Log out</span>\r\n          </button>\r\n        </div>\r\n\r\n        <NavSocial/>\r\n      </div>\r\n\r\n      <button class=\"sbtn btn-create\" v-if=\"!isUser\" @click=\"$router.push('/register')\">\r\n        Create Whispers\r\n      </button>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { auth, db } from '@/firebase';\r\nimport { ref } from '@vue/reactivity';\r\nimport { useStore } from 'vuex'\r\nimport NavSocial from '../SocialMedia/NavSocial.vue';\r\nimport { Toast } from '../Toast';\r\nexport default {\r\n  components: { NavSocial },\r\n    name: 'NavbarComp ',\r\n    props: {\r\n      isUser: {\r\n        type: Boolean,\r\n        default: false\r\n      },\r\n      msgId: {\r\n        type: String,\r\n        default: ''\r\n      }\r\n    },\r\n    setup () {\r\n      const isOpen = ref(false)\r\n      const store = useStore();\r\n\r\n      const openNav = () => {\r\n        !isOpen.value ? isOpen.value = true : isOpen.value = false;\r\n      }\r\n      const Logout = async () => {\r\n        await store.dispatch('logout')\r\n          .then(() => {\r\n            Toast.fire({\r\n              icon: 'success',\r\n              text: 'Log out successfull'\r\n            })\r\n          })\r\n      }\r\n      return {\r\n        Logout,\r\n        openNav,\r\n        isOpen\r\n      }\r\n    }\r\n}\r\n</script>\r\n\r\n<style>\r\n.v-navbar {\r\n  position: fixed;\r\n  top: 0;\r\n  left: 0;\r\n  display: flex;\r\n  justify-content: space-between;\r\n  padding: 1rem 2rem;\r\n  background: #FFFFFF;\r\n  box-shadow:  5px 5px 21px #949494,\r\n              -5px -5px 21px #ffffff;\r\n  z-index: 100;\r\n}\r\n\r\n.navbar-logo {\r\n  display: flex;\r\n  align-items: center;\r\n}\r\n\r\n.nav-items {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 5rem;\r\n}\r\n\r\n\r\n@media screen and (max-width: 864px) {\r\n  .v-navbar {\r\n    display: flex;\r\n  }\r\n\r\n  .v-navbar.user {\r\n    display: block;\r\n  }\r\n\r\n  .navbar-logo {\r\n    justify-content: space-between;\r\n  }\r\n\r\n  .nav-items {\r\n    position: fixed;\r\n    top: 0;\r\n    left: -100%;\r\n    opacity: 0;\r\n    visibility: hidden;\r\n    background: var(--nav-glassbg);\r\n    box-shadow: var(--nav-glassboxshadow);\r\n    backdrop-filter: blur( 50px );\r\n    -webkit-backdrop-filter: blur( 10px );\r\n    border: var(--nav-glassborder);\r\n    flex-direction: column;\r\n    align-items: flex-start;\r\n    width: 80%;\r\n    height: 100vh;\r\n    padding: 4rem 0;\r\n    gap: 3rem;\r\n    transition: all 0.3s ease-in-out;\r\n    z-index: 1000;\r\n  }\r\n\r\n  .nav-items.open {\r\n    left: 0;\r\n    opacity: 1;\r\n    visibility: visible;\r\n  }\r\n\r\n  .hamburger-menu {\r\n    width: 28px;\r\n    height: 25px;\r\n    margin-right: -0.5rem;\r\n    margin-bottom: -0.3rem;\r\n    cursor: pointer;\r\n  }\r\n  .bar {\r\n    display: block;\r\n    width: 100%;\r\n    height: 13%;\r\n    background: var(--text-color);\r\n    margin-bottom: 0.3rem;\r\n    transition: all 0.3s ease-in-out;\r\n  }\r\n\r\n  .hamburger-menu.open .bar:nth-child(1) {\r\n    width: 30%;\r\n  }\r\n\r\n  .hamburger-menu.open .bar:nth-child(2) {\r\n    width: 70%;\r\n  }\r\n}\r\n\r\n.nav-item i {\r\n  margin-right: 0.3rem;\r\n}\r\n\r\n.nav-items .nav-link .text-link {\r\n  position: relative;\r\n}\r\n.nav-items .nav-link.router-link-exact-active .text-link::after {\r\n  opacity: 1;\r\n  height: 2px;\r\n}\r\n\r\n.nav-items .nav-item:hover .text-link::after {\r\n  opacity: 1;\r\n  height: 2px;\r\n}\r\n\r\n.text-link::after {\r\n  content: '';\r\n  position: absolute;\r\n  bottom: -3px;\r\n  left: 0;\r\n  width: 100%;\r\n  height: 0;\r\n  margin: auto;\r\n  background: var(--text-color);\r\n  border-radius: 20%;\r\n  opacity: 0;\r\n  transition: all 0.3s ease-in-out;\r\n}\r\n\r\n\r\n\r\n.btn-logout {\r\n  border: none;\r\n  outline: none;\r\n  background: transparent;\r\n}\r\n\r\n.bx-log-out, .logout-text {\r\n  transition: 0.35s ease;\r\n}\r\n\r\n.btn-logout .bx-log-out {\r\n  color: #fa8b8b;\r\n}\r\n\r\n.btn-logout .logout-text {\r\n  color: #fa8b8b;\r\n  font-weight: 600;\r\n}\r\n\r\n.btn-logout:hover .bx-log-out {\r\n  color: #ff0000;\r\n} \r\n\r\n.btn-logout:hover .logout-text {\r\n  color: #ff0000;\r\n}\r\n\r\n.btn-create {\r\n  padding: 0.5rem 1rem;\r\n}\r\n</style>","<template>\r\n  <div class=\"nav-social nav-link d-lg-none\">\r\n      <a href=\"https://www.instagram.com/difazl/\" class=\"-nav-sm instagram\">\r\n          <img src=\"@/assets/icons/instagram.svg\" alt=\"Instagram\">\r\n      </a>\r\n      <a href=\"https://github.com/radhifazl\" class=\"-nav-sm github\">\r\n          <img src=\"@/assets/icons/github.svg\" alt=\"GitHub\">\r\n      </a>\r\n      <a href=\"https://twitter.com/radhiffazli\" class=\"-nav-sm twitter\">\r\n          <img src=\"@/assets/icons/twitter.svg\" alt=\"Twitter\">\r\n      </a>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n    name: 'NavSocial'\r\n}\r\n</script>\r\n\r\n<style>\r\n.nav-social {\r\n    display: flex;\r\n    gap: 1.5rem;\r\n    position: absolute;\r\n    bottom: 5%;\r\n}\r\n\r\n.-nav-sm img {\r\n    width: 30px;\r\n}\r\n</style>","import { render } from \"./NavSocial.vue?vue&type=template&id=6c85bdb7\"\nimport script from \"./NavSocial.vue?vue&type=script&lang=js\"\nexport * from \"./NavSocial.vue?vue&type=script&lang=js\"\n\nimport \"./NavSocial.vue?vue&type=style&index=0&id=6c85bdb7&lang=css\"\n\nimport exportComponent from \"C:\\\\Users\\\\nurdi\\\\pkl\\\\whispers\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./Navbar.vue?vue&type=template&id=66bb9935\"\nimport script from \"./Navbar.vue?vue&type=script&lang=js\"\nexport * from \"./Navbar.vue?vue&type=script&lang=js\"\n\nimport \"./Navbar.vue?vue&type=style&index=0&id=66bb9935&lang=css\"\n\nimport exportComponent from \"C:\\\\Users\\\\nurdi\\\\pkl\\\\whispers\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\r\n  <div class=\"messages-page ccontainer\">\r\n    <Navbar :isUser=\"isLoggedIn ? true : false\" :msgId=\"whispCode\"/>\r\n\r\n    <div class=\"messages-wrapper p-4 mx-auto\">\r\n      <div class=\"form-wrapper mb-4\">\r\n        <h2>Send a message to <span class=\"name\">{{ whispersOwner }}</span></h2>\r\n        <p>{{ whispersOwner }} will never know who sent this message</p>\r\n\r\n        <form id=\"form-msg\" @submit.prevent=\"sendMessage\">\r\n          <textarea name=\"message\" class=\"message-area\" placeholder=\"Write secret message\" v-model=\"message\" maxlength=\"155\"></textarea>\r\n          <SendButton/>\r\n        </form>\r\n      </div>\r\n\r\n      <div class=\"messages-list\">\r\n        <div class=\"message-title\">\r\n          <h4>Timeline of <span class=\"name\">{{ whispersOwner }}</span></h4>\r\n\r\n          <div class=\"message mb-3\" v-for=\"message in messages\" :key=\"message.id\">\r\n            <div class=\"message-content\">\r\n              <div class=\"message-text\">\r\n                <p>{{message.message}}</p>\r\n              </div>\r\n              <div class=\"check mt-3\" @click=\"checkReplies(message.id)\">\r\n                <i class='bx-fw bx bxs-chevron-right'></i> <span>Check Replies</span>\r\n              </div>\r\n            </div>\r\n            <div v-if=\"isLoggedIn\" class=\"delete\" @click=\"deleteMessage(message.id)\">\r\n              <i class='bx bxs-trash' ></i>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { onMounted, ref } from \"vue\";\r\nimport { auth, db } from '@/firebase';\r\nimport { getDoc, doc, addDoc, collection, onSnapshot, query, orderBy, serverTimestamp, deleteDoc } from \"firebase/firestore\";\r\nimport Navbar from '@/components/Navbar/Navbar.vue';\r\nimport { useRoute } from 'vue-router';\r\nimport SendButton from '@/components/Buttons/SendButton.vue';\r\nimport Swal from 'sweetalert2';\r\nimport router from '@/router';\r\nexport default {\r\n  components: { Navbar, SendButton },\r\n    name: 'MessagePage',\r\n    setup () {\r\n      const isLoggedIn = ref(false)\r\n      const whispersOwner = ref('')\r\n      const whispCode = ref(useRoute().params.id)\r\n      const message = ref('')\r\n\r\n      const messages = ref([])\r\n\r\n      const getMessages = async () => {\r\n        const msgRef = collection(db, 'whispers', 'messages', whispCode.value)\r\n        const q = query(msgRef, orderBy('createdAt', 'asc'))\r\n        onSnapshot(q, (snapshot) => {\r\n            messages.value = []\r\n            snapshot.docs.forEach(doc => {\r\n              messages.value.push({\r\n                id: doc.id,\r\n                ...doc.data()\r\n              })\r\n            })\r\n        })\r\n      }\r\n\r\n      const checkReplies = async (id) => {\r\n        router.push({\r\n          name: 'RepliesPage',\r\n          params: { id: whispCode.value, msgId: id }\r\n        })\r\n      }\r\n\r\n      const getWhispName = async () => {\r\n        await getDoc(doc(db, 'usernames', whispCode.value))\r\n          .then(docs => {\r\n            whispersOwner.value = docs.data().name\r\n          })\r\n      }\r\n\r\n      function getDate(date) {\r\n        function padTo2Digits(num) {\r\n          return num.toString().padStart(2, '0')\r\n        }\r\n\r\n        const ddmmyyy = padTo2Digits(date.getDate()) + '-' + padTo2Digits(date.getMonth()+1) + '-' + date.getFullYear()\r\n        const now = ddmmyyy \r\n        return now\r\n      }\r\n\r\n      const sendMessage = async () => {\r\n        if(!message.value) {\r\n          Swal.fire({\r\n            title: 'Oops...',\r\n            text: 'You need to write a message',\r\n            icon: 'error',\r\n            confirmButtonText: 'OK'\r\n          })\r\n        } else {\r\n          try {\r\n            await addDoc(collection(db, 'whispers', 'messages', whispCode.value), {\r\n              message: message.value,\r\n              createdAt: serverTimestamp(),\r\n              date: getDate(new Date())\r\n            }).then(() => {\r\n              message.value = ''\r\n            })\r\n          } catch (error) {\r\n              Swal.fire({\r\n                title: 'Oops...',\r\n                text: 'Something went wrong!',\r\n                icon: 'error',\r\n                confirmButtonText: 'OK'\r\n              })\r\n          }\r\n        }\r\n      }\r\n\r\n      const deleteMessage = (id) => {\r\n        Swal.fire({\r\n          title: 'Are you sure?',\r\n          text: \"You won't be able to revert this!\",\r\n          icon: 'warning',\r\n          showCancelButton: true,\r\n          confirmButtonColor: '#3085d6',\r\n          cancelButtonColor: '#d33',\r\n          confirmButtonText: 'Yes, delete it!'\r\n        }).then(async (result) => {\r\n          if(result.isConfirmed) {\r\n            try {\r\n              const docRef = doc(db, 'whispers', 'messages', whispCode.value, id)\r\n              await deleteDoc(docRef)\r\n                .then(() => {\r\n                  Swal.fire({\r\n                    title: 'Deleted!',\r\n                    text: 'Message has been deleted',\r\n                    icon: 'success',\r\n                    confirmButtonText: 'OK'\r\n                  })\r\n                }).finally(() => {\r\n                  getMessages()\r\n                })\r\n            } catch (error) {\r\n              Swal.fire({\r\n                title: 'Oops...',\r\n                text: 'Something went wrong!',\r\n                icon: 'error',\r\n                confirmButtonText: 'OK'\r\n              })\r\n            }\r\n          }\r\n        })\r\n      }\r\n\r\n      const logStatus = () => {\r\n        auth.onAuthStateChanged(user => {\r\n          if (user) {\r\n            isLoggedIn.value = true\r\n          } else {\r\n            isLoggedIn.value = false\r\n          }\r\n        })\r\n      }\r\n\r\n      onMounted(() => {\r\n        getWhispName()\r\n        getMessages()\r\n        logStatus()\r\n      })\r\n\r\n      return {\r\n        isLoggedIn, whispersOwner,\r\n        message, sendMessage, messages, checkReplies,\r\n        deleteMessage, whispCode\r\n      }\r\n    }\r\n}\r\n</script>\r\n\r\n<style>\r\n.messages-page {\r\n  height: 100%;\r\n  min-height: 100vh;\r\n  background: var(--bg-color);\r\n  padding-top: 7rem;\r\n}\r\n.messages-wrapper {\r\n  width: 70%;\r\n  height: 100%;\r\n  min-height: 100vh;\r\n  background: #FFF;\r\n  box-shadow: rgba(50, 50, 93, 0.25) 0px 13px 27px -5px, rgba(0, 0, 0, 0.3) 0px 8px 16px -8px;\r\n}\r\n.name {\r\n  font-weight: 700;\r\n}\r\n.check {\r\n  cursor: pointer;\r\n}\r\n.bxs-chevron-right {\r\n  transition: transform 0.3s ease;\r\n  font-size: 1.2rem;\r\n}\r\n.checked {\r\n  transform: rotate(90deg);\r\n}\r\n.message-area {\r\n  resize: none;\r\n  width: 100%;\r\n  height: 150px;\r\n  border-radius: 5px;\r\n  border: 1px solid var(--primary-color);\r\n  padding: 0.5rem 1rem;\r\n}\r\n\r\n.message-area:focus {\r\n  border: 2px solid var(--primary-color);\r\n}\r\n.message {\r\n  border: 1px solid #888;\r\n  padding: 0.5rem 1rem;\r\n  border-radius: 5px;\r\n  width: 100%;\r\n  height: fit-content;\r\n  position: relative;\r\n  overflow-x: hidden ;\r\n}\r\n.message-text {\r\n  width: 100%;\r\n  height: 100%;\r\n}\r\n.delete {\r\n  position: absolute;\r\n  right: 0.5%;\r\n  top: 5%;\r\n  cursor: pointer;\r\n}\r\n\r\n.delete i {\r\n  font-size: 1.2rem;\r\n  color: var(--primary-color);\r\n}\r\n\r\n.delete i:hover {\r\n  color: #e74040;\r\n}\r\n\r\n@media screen and (max-width: 868px) {\r\n  .messages-page {\r\n    padding-top: 5rem;\r\n  }\r\n  .messages-wrapper {\r\n    width: 90%;\r\n  }\r\n}\r\n</style>","<template>\r\n  <button class=\"btn-send w-100 mt-3\" type=\"submit\">\r\n      <i class='bx-fw bx bxs-send'></i> Send Message\r\n  </button>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n    name: 'SendButton',\r\n}\r\n</script>\r\n\r\n<style>\r\n.btn-send {\r\n    border: none;\r\n    outline: none;\r\n    background: var(--primary-color);\r\n    color: #FFF;\r\n    padding: 0.5rem;\r\n    border-radius: 10px;\r\n    transition: 0.3s ease-in-out;\r\n}\r\n\r\n.btn-send:hover {\r\n    background: var(--darker-primary-color);\r\n}\r\n\r\n.btn-send i {\r\n    color: #FFF;\r\n}\r\n</style>","import { render } from \"./SendButton.vue?vue&type=template&id=d848884a\"\nimport script from \"./SendButton.vue?vue&type=script&lang=js\"\nexport * from \"./SendButton.vue?vue&type=script&lang=js\"\n\nimport \"./SendButton.vue?vue&type=style&index=0&id=d848884a&lang=css\"\n\nimport exportComponent from \"C:\\\\Users\\\\nurdi\\\\pkl\\\\whispers\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./MessagesPage.vue?vue&type=template&id=30b0e72e\"\nimport script from \"./MessagesPage.vue?vue&type=script&lang=js\"\nexport * from \"./MessagesPage.vue?vue&type=script&lang=js\"\n\nimport \"./MessagesPage.vue?vue&type=style&index=0&id=30b0e72e&lang=css\"\n\nimport exportComponent from \"C:\\\\Users\\\\nurdi\\\\pkl\\\\whispers\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["class","_createElementVNode","src","_imports_0","alt","_hoisted_3","_hoisted_4","_hoisted_5","_hoisted_10","_hoisted_12","_createElementBlock","user","$props","_createVNode","_component_router_link","to","_hoisted_2","open","$setup","onClick","_hoisted_7","_hoisted_8","_component_NavSocial","_ctx","push","name","__exports__","components","NavSocial","props","isUser","type","Boolean","default","msgId","String","setup","isOpen","ref","store","useStore","openNav","value","Logout","async","dispatch","then","Toast","icon","text","render","_hoisted_13","_hoisted_15","_hoisted_18","_component_Navbar","_toDisplayString","id","onSubmit","placeholder","$event","maxlength","_component_SendButton","_Fragment","_renderList","message","key","Navbar","SendButton","isLoggedIn","whispersOwner","whispCode","useRoute","params","messages","getMessages","msgRef","collection","db","q","query","orderBy","onSnapshot","snapshot","docs","forEach","doc","data","checkReplies","router","getWhispName","getDoc","getDate","date","padTo2Digits","num","toString","padStart","ddmmyyy","getMonth","getFullYear","now","sendMessage","addDoc","createdAt","serverTimestamp","Date","error","Swal","title","confirmButtonText","deleteMessage","showCancelButton","confirmButtonColor","cancelButtonColor","result","isConfirmed","docRef","deleteDoc","finally","logStatus","auth","onMounted"],"sourceRoot":""}